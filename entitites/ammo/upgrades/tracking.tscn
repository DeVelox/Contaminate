[gd_scene load_steps=3 format=3 uid="uid://ds1b4qhvj1a5l"]

[sub_resource type="GDScript" id="GDScript_dn5tm"]
resource_name = "tracking"
script/source = "extends AmmoUpgrade

var track: bool
var enemy: Enemy

@onready var tracking: Area2D = $\".\"

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	if track and is_instance_valid(enemy):
		get_parent().direction = (enemy.global_position - global_position).normalized()


func _on_area_entered(area: Area2D) -> void:
	#if area is Enemy:
		#enemy = area
		#track = true
		#tracking.disconnect(\"area_entered\", _on_area_entered)
		pass
"

[sub_resource type="CircleShape2D" id="CircleShape2D_b1l64"]
radius = 250.0

[node name="Tracking" type="Area2D"]
script = SubResource("GDScript_dn5tm")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_b1l64")

[connection signal="area_entered" from="." to="." method="_on_area_entered"]
